---
name: 修復未使用的變數和匯入
overview: 修復所有 ESLint 報告的未使用變數和匯入錯誤（共 48 個），涉及 15+ 個檔案
todos:
  - id: run-lint-check
    content: 運行 npm run lint 確認當前錯誤狀態
    status: completed
  - id: fix-simple-files
    content: 修復簡單檔案（RootProviders、AIprovider、Cate、InfoCard、SearchPanel、TableRelust、Home2、preload/Preload）
    status: completed
    dependencies:
      - run-lint-check
  - id: fix-medium-files
    content: 修復中等複雜度檔案（ReportProtocol、Search）
    status: completed
    dependencies:
      - fix-simple-files
  - id: fix-complex-files
    content: 修復複雜檔案（Preload、Setting/Setting、Setting）
    status: completed
    dependencies:
      - fix-medium-files
  - id: verify-fixes
    content: 運行 npm run lint 驗證所有修復並確認無錯誤
    status: completed
    dependencies:
      - fix-complex-files
---

# 修復未使用的變數和匯入

根據 `lint-errors.md` 報告，需要修復 48 個未使用的變數和匯入錯誤。此計劃將系統性地清理所有未使用的變數、函數和匯入語句。

## 修復策略

1. **先運行 lint 確認當前狀態**

- 在 `frontend` 目錄執行 `npm run lint` 查看當前錯誤狀態

2. **逐檔修復**（按檔案分類）

### 檔案清單與修復內容

#### 簡單檔案（1-3 個錯誤）

- [frontend/src/RootProviders.tsx](frontend/src/RootProviders.tsx) - 移除未使用的 `setLang`（第 12 行）
- [frontend/src/components/AIprovider.tsx](frontend/src/components/AIprovider.tsx) - 移除未使用的 `Paper` 匯入（第 2 行）
- [frontend/src/components/Cate.tsx](frontend/src/components/Cate.tsx) - 移除未使用的 `theme` 匯入（第 1 行）
- [frontend/src/components/InfoCard.tsx](frontend/src/components/InfoCard.tsx) - 移除未使用的 `Fade` 匯入（第 1 行）和 `context` 變數（第 27 行）
- [frontend/src/components/SearchPanel.tsx](frontend/src/components/SearchPanel.tsx) - 移除未使用的 `isAiMark` 變數（第 27 行）
- [frontend/src/components/TableRelust/TableRelust.tsx](frontend/src/components/TableRelust/TableRelust.tsx) - 移除未使用的 `Chip`、`Tooltip` 匯入和 `useEffect` 匯入（第 1-2 行）
- [frontend/src/pages/home/Home2.tsx](frontend/src/pages/home/Home2.tsx) - 移除未使用的 `isElectron` 和 `data` 變數（第 37、64 行）
- [frontend/src/pages/preload/Preload.tsx](frontend/src/pages/preload/Preload.tsx) - 移除未使用的 `ReportProtocol` 匯入和 `protocolOpen` 變數（第 6、17 行）

#### 中等複雜度檔案（5-6 個錯誤）

- [frontend/src/components/ReportProtocol.tsx](frontend/src/components/ReportProtocol.tsx) - 移除未使用的 `Checkbox`、`FormControlLabel`、`Paper` 匯入（第 1 行），以及 `setIsRemind`、`handleClose` 變數（第 18、35 行）
- [frontend/src/pages/Search.tsx](frontend/src/pages/Search.tsx) - 移除未使用的 `useRef`、`Paper`、`useSize` 匯入（第 1、4、5 行），以及 `total`、`currentLanguage`、`isShowUpgradeProTips` 變數（第 28、30、33 行）

#### 複雜檔案（9-19 個錯誤）

- [frontend/src/pages/Preload.tsx](frontend/src/pages/Preload.tsx) - 移除未使用的 `ReportProtocol`、`Paper` 匯入（第 3、5 行），以及 `protocolOpen`、`upgradeOpen`、`context`、`checkAgreeProtocol`、`waitUserUpgrade`、`waitUserCheckProtocol`、`waitUserLogin` 變數（第 16、21、30、90、156、163、172 行）
- [frontend/src/components/Setting/Setting.tsx](frontend/src/components/Setting/Setting.tsx) - 移除未使用的 `IconButton`、`Contact` 匯入（第 1、3 行），以及 `selectedCategory`、`setSelectedCategory`、`isUpdateAvailable`、`latestVersion`、`updateStatus` 變數（第 28、37、39、43 行）
- [frontend/src/pages/Setting.tsx](frontend/src/pages/Setting.tsx) - 移除未使用的 `theme` 匯入（第 15 行），以及 `SettingButton`、`openIndexImage`、`confirmDialogOpen`、`setConfirmDialogOpen`、`isInstallGpu`、`isUpdateAvailable`、`latestVersion`、`context`、`toggleAutoLaunchHidden` 變數（第 29、64、65、69、74、76、81、182 行）

3. **驗證修復**

- 每次修復後運行 `npm run lint` 確認錯誤減少
- 最終確保所有未使用變數錯誤已清除

## 注意事項

- 移除變數前需確認該變數確實未被使用（包括註解中的代碼）
- 對於解構賦值中未使用的變數，使用 `_` 前綴或直接移除對應項
- 對於匯入語句，確保移除後不影響其他部分的功能
- 修復過程中保持代碼格式一致

## 預期結果

修復完成後：

- 所有 48 個未使用變數錯誤應被清除